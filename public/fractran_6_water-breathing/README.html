<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>FRACTRAN 6: Water-Breathing | HSCTF Write-ups</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="">
        <meta name="description" content="This was fun. Running a CTF was an exhilarating, amazing experience, and from what we gather, so was participating. The idea for HSCTF germinated after we (most of the organizers) participated in picoCTF and CSAW CTF Quals. We enjoyed both competitions tremendously, but were dismayed to find that there were very few entry-level CTFs, and no high school CTFs in the 2013-14 academic year. This year, we started a computer science club in our school, and ran a small in-school beginner CTF. It was a huge success. We knew we wanted to make something bigger. We also knew we didn&#39;t want our CTF to be purely about security. HSCTF shows that people can learn any aspect of computer science from a CTF.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../3/README.html" />
        
        
        <link rel="prev" href="../project_einstein/README.html" />
        

        <meta property="og:title" content="FRACTRAN 6: Water-Breathing | HSCTF Write-ups">
        <meta property="og:site_name" content="HSCTF Write-ups">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book"  data-level="6.2" data-basepath=".." data-revision="1431182340683">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/null" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >HSCTF Write-ups</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        

        
        <li>
            <a href="https://github.com/null/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/null/edit/master/fractran_6_water-breathing/README.md" target="blank">Edit and Contribute</a>
        </li>
        

        

        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="100_point_problems/README.html">
                
                <a href="../100_point_problems/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> 100 Point Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="words_misheard/README.html">
                            
                            <a href="../words_misheard/README.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Words Misheard
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="fractran_1_introduction/README.html">
                            
                            <a href="../fractran_1_introduction/README.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> FRACTRAN 1: Introduction
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="chips_in_the_middle/README.html">
                            
                            <a href="../chips_in_the_middle/README.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Chips In The Middle
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="just_learning/README.html">
                            
                            <a href="../just_learning/README.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Just Learning
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="caesars_palace/README.html">
                            
                            <a href="../caesars_palace/README.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Caesar&#39;s Palace
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="1000_code_monkeys/README.html">
                            
                            <a href="../1000_code_monkeys/README.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> 1000 Code Monkeys
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="200_point_problems/README.html">
                
                <a href="../200_point_problems/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> 200 Point Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="asseragod/README.html">
                            
                            <a href="../asseragod/README.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Asseragod
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="who_is_it/README.html">
                            
                            <a href="../who_is_it/README.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Who Is It?
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="yangwy/README.html">
                            
                            <a href="../yangwy/README.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> yangwy
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="decitroll/README.html">
                            
                            <a href="../decitroll/README.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Decitroll
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="fractran_2_immersion/README.html">
                            
                            <a href="../fractran_2_immersion/README.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> FRACTRAN 2: Immersion
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="find_the_code/README.html">
                            
                            <a href="../find_the_code/README.html">
                                <i class="fa fa-check"></i> <b>2.6.</b> Find the Code
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="nomnomcipher/README.html">
                            
                            <a href="../nomnomcipher/README.html">
                                <i class="fa fa-check"></i> <b>2.7.</b> NomNomCipher
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="obfuscated_python/README.html">
                            
                            <a href="../obfuscated_python/README.html">
                                <i class="fa fa-check"></i> <b>2.8.</b> Obfuscated Python
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.9" data-path="slashey/README.html">
                            
                            <a href="../slashey/README.html">
                                <i class="fa fa-check"></i> <b>2.9.</b> Slashey
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="300_point_problems/README.html">
                
                <a href="../300_point_problems/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> 300 Point Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="great_wall_of_north/README.html">
                            
                            <a href="../great_wall_of_north/README.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> Great Wall of North
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="keith_numbers_1/README.html">
                            
                            <a href="../keith_numbers_1/README.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> Keith Numbers 1
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="connect_the_colors/README.html">
                            
                            <a href="../connect_the_colors/README.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> Connect The Colors
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="perfekta_kodo/README.html">
                            
                            <a href="../perfekta_kodo/README.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> Perfekta Kodo
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="such_reverse_much_doge/README.html">
                            
                            <a href="../such_reverse_much_doge/README.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> such reverse much doge
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="keith_the_urban_planner/README.html">
                            
                            <a href="../keith_the_urban_planner/README.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> Keith The Urban Planner
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="8_funky_yellow_ducks/README.html">
                            
                            <a href="../8_funky_yellow_ducks/README.html">
                                <i class="fa fa-check"></i> <b>3.7.</b> 8 Funky Yellow Ducks
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.8" data-path="fractran_3_the_plunge/README.html">
                            
                            <a href="../fractran_3_the_plunge/README.html">
                                <i class="fa fa-check"></i> <b>3.8.</b> FRACTRAN 3: The Plunge
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.9" data-path="permission_denied/README.html">
                            
                            <a href="../permission_denied/README.html">
                                <i class="fa fa-check"></i> <b>3.9.</b> Permission Denied
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.10" data-path="be/README.html">
                            
                            <a href="../be/README.html">
                                <i class="fa fa-check"></i> <b>3.10.</b> be
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.11" data-path="hoboken_houses/README.html">
                            
                            <a href="../hoboken_houses/README.html">
                                <i class="fa fa-check"></i> <b>3.11.</b> Hoboken Houses
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="500_point_problems/README.html">
                
                <a href="../500_point_problems/README.html">
                    <i class="fa fa-check"></i> <b>4.</b> 400 Point Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="a_needle_in_an_illiterate_haystack/README.html">
                            
                            <a href="../a_needle_in_an_illiterate_haystack/README.html">
                                <i class="fa fa-check"></i> <b>4.1.</b> A Needle in an Illiterate Haystack
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="custom_rsa/README.html">
                            
                            <a href="../custom_rsa/README.html">
                                <i class="fa fa-check"></i> <b>4.2.</b> Custom RSA
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="number_one_fan/README.html">
                            
                            <a href="../number_one_fan/README.html">
                                <i class="fa fa-check"></i> <b>4.3.</b> Number One Fan
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="20xx/README.html">
                            
                            <a href="../20xx/README.html">
                                <i class="fa fa-check"></i> <b>4.4.</b> 20XX
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="keith_numbers_2/README.html">
                            
                            <a href="../keith_numbers_2/README.html">
                                <i class="fa fa-check"></i> <b>4.5.</b> Keith Numbers 2
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="keith_the_biologist/README.html">
                            
                            <a href="../keith_the_biologist/README.html">
                                <i class="fa fa-check"></i> <b>4.6.</b> Keith the Biologist
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="fractran_4_diving_deep/README.html">
                            
                            <a href="../fractran_4_diving_deep/README.html">
                                <i class="fa fa-check"></i> <b>4.7.</b> FRACTRAN 4: Diving Deep
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="1/README.html">
                            
                            <a href="../1/README.html">
                                <i class="fa fa-check"></i> <b>4.8.</b> λ1
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="on_entropy_in_systems/README.html">
                            
                            <a href="../on_entropy_in_systems/README.html">
                                <i class="fa fa-check"></i> <b>4.9.</b> On Entropy In Systems
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="500_point_problems_temp/README.html">
                
                <a href="../500_point_problems_temp/README.html">
                    <i class="fa fa-check"></i> <b>5.</b> 500 Point Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="awe/README.html">
                            
                            <a href="../awe/README.html">
                                <i class="fa fa-check"></i> <b>5.1.</b> awe
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="can_you_jpeg/README.html">
                            
                            <a href="../can_you_jpeg/README.html">
                                <i class="fa fa-check"></i> <b>5.2.</b> Can You JPEG?
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="sleepless_soccer_balls/README.html">
                            
                            <a href="../sleepless_soccer_balls/README.html">
                                <i class="fa fa-check"></i> <b>5.3.</b> Sleepless Soccer Balls
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="2/README.html">
                            
                            <a href="../2/README.html">
                                <i class="fa fa-check"></i> <b>5.4.</b> λ2
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.5" data-path="fractran_5_fully_submerged/README.html">
                            
                            <a href="../fractran_5_fully_submerged/README.html">
                                <i class="fa fa-check"></i> <b>5.5.</b> FRACTRAN 5: Fully Submerged
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="600_point_problems/README.html">
                
                <a href="../600_point_problems/README.html">
                    <i class="fa fa-check"></i> <b>6.</b> 600 Point Problems
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="project_einstein/README.html">
                            
                            <a href="../project_einstein/README.html">
                                <i class="fa fa-check"></i> <b>6.1.</b> Project Einstein
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="fractran_6_water-breathing/README.html">
                            
                            <a href="../fractran_6_water-breathing/README.html">
                                <i class="fa fa-check"></i> <b>6.2.</b> FRACTRAN 6: Water-Breathing
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="3/README.html">
                            
                            <a href="../3/README.html">
                                <i class="fa fa-check"></i> <b>6.3.</b> λ3
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="chapter/README.html">
                            
                            <a href="../chapter/README.html">
                                <i class="fa fa-check"></i> <b>6.4.</b> My name is
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 96%;min-width: 94%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../100_point_problems/README.html" title="100 Point Problems" class="chapter done new-chapter" data-progress="1" style="left: 2%;"></a>
    
        <a href="../words_misheard/README.html" title="Words Misheard" class="chapter done " data-progress="1.1" style="left: 4%;"></a>
    
        <a href="../fractran_1_introduction/README.html" title="FRACTRAN 1: Introduction" class="chapter done " data-progress="1.2" style="left: 6%;"></a>
    
        <a href="../chips_in_the_middle/README.html" title="Chips In The Middle" class="chapter done " data-progress="1.3" style="left: 8%;"></a>
    
        <a href="../just_learning/README.html" title="Just Learning" class="chapter done " data-progress="1.4" style="left: 10%;"></a>
    
        <a href="../caesars_palace/README.html" title="Caesar&#39;s Palace" class="chapter done " data-progress="1.5" style="left: 12%;"></a>
    
        <a href="../1000_code_monkeys/README.html" title="1000 Code Monkeys" class="chapter done " data-progress="1.6" style="left: 14%;"></a>
    
        <a href="../200_point_problems/README.html" title="200 Point Problems" class="chapter done new-chapter" data-progress="2" style="left: 16%;"></a>
    
        <a href="../asseragod/README.html" title="Asseragod" class="chapter done " data-progress="2.1" style="left: 18%;"></a>
    
        <a href="../who_is_it/README.html" title="Who Is It?" class="chapter done " data-progress="2.2" style="left: 20%;"></a>
    
        <a href="../yangwy/README.html" title="yangwy" class="chapter done " data-progress="2.3" style="left: 22%;"></a>
    
        <a href="../decitroll/README.html" title="Decitroll" class="chapter done " data-progress="2.4" style="left: 24%;"></a>
    
        <a href="../fractran_2_immersion/README.html" title="FRACTRAN 2: Immersion" class="chapter done " data-progress="2.5" style="left: 26%;"></a>
    
        <a href="../find_the_code/README.html" title="Find the Code" class="chapter done " data-progress="2.6" style="left: 28%;"></a>
    
        <a href="../nomnomcipher/README.html" title="NomNomCipher" class="chapter done " data-progress="2.7" style="left: 30%;"></a>
    
        <a href="../obfuscated_python/README.html" title="Obfuscated Python" class="chapter done " data-progress="2.8" style="left: 32%;"></a>
    
        <a href="../slashey/README.html" title="Slashey" class="chapter done " data-progress="2.9" style="left: 34%;"></a>
    
        <a href="../300_point_problems/README.html" title="300 Point Problems" class="chapter done new-chapter" data-progress="3" style="left: 36%;"></a>
    
        <a href="../great_wall_of_north/README.html" title="Great Wall of North" class="chapter done " data-progress="3.1" style="left: 38%;"></a>
    
        <a href="../be/README.html" title="be" class="chapter done " data-progress="3.10" style="left: 40%;"></a>
    
        <a href="../hoboken_houses/README.html" title="Hoboken Houses" class="chapter done " data-progress="3.11" style="left: 42%;"></a>
    
        <a href="../keith_numbers_1/README.html" title="Keith Numbers 1" class="chapter done " data-progress="3.2" style="left: 44%;"></a>
    
        <a href="../connect_the_colors/README.html" title="Connect The Colors" class="chapter done " data-progress="3.3" style="left: 46%;"></a>
    
        <a href="../perfekta_kodo/README.html" title="Perfekta Kodo" class="chapter done " data-progress="3.4" style="left: 48%;"></a>
    
        <a href="../such_reverse_much_doge/README.html" title="such reverse much doge" class="chapter done " data-progress="3.5" style="left: 50%;"></a>
    
        <a href="../keith_the_urban_planner/README.html" title="Keith The Urban Planner" class="chapter done " data-progress="3.6" style="left: 52%;"></a>
    
        <a href="../8_funky_yellow_ducks/README.html" title="8 Funky Yellow Ducks" class="chapter done " data-progress="3.7" style="left: 54%;"></a>
    
        <a href="../fractran_3_the_plunge/README.html" title="FRACTRAN 3: The Plunge" class="chapter done " data-progress="3.8" style="left: 56%;"></a>
    
        <a href="../permission_denied/README.html" title="Permission Denied" class="chapter done " data-progress="3.9" style="left: 58%;"></a>
    
        <a href="../500_point_problems/README.html" title="400 Point Problems" class="chapter done new-chapter" data-progress="4" style="left: 60%;"></a>
    
        <a href="../a_needle_in_an_illiterate_haystack/README.html" title="A Needle in an Illiterate Haystack" class="chapter done " data-progress="4.1" style="left: 62%;"></a>
    
        <a href="../custom_rsa/README.html" title="Custom RSA" class="chapter done " data-progress="4.2" style="left: 64%;"></a>
    
        <a href="../number_one_fan/README.html" title="Number One Fan" class="chapter done " data-progress="4.3" style="left: 66%;"></a>
    
        <a href="../20xx/README.html" title="20XX" class="chapter done " data-progress="4.4" style="left: 68%;"></a>
    
        <a href="../keith_numbers_2/README.html" title="Keith Numbers 2" class="chapter done " data-progress="4.5" style="left: 70%;"></a>
    
        <a href="../keith_the_biologist/README.html" title="Keith the Biologist" class="chapter done " data-progress="4.6" style="left: 72%;"></a>
    
        <a href="../fractran_4_diving_deep/README.html" title="FRACTRAN 4: Diving Deep" class="chapter done " data-progress="4.7" style="left: 74%;"></a>
    
        <a href="../1/README.html" title="λ1" class="chapter done " data-progress="4.8" style="left: 76%;"></a>
    
        <a href="../on_entropy_in_systems/README.html" title="On Entropy In Systems" class="chapter done " data-progress="4.9" style="left: 78%;"></a>
    
        <a href="../500_point_problems_temp/README.html" title="500 Point Problems" class="chapter done new-chapter" data-progress="5" style="left: 80%;"></a>
    
        <a href="../awe/README.html" title="awe" class="chapter done " data-progress="5.1" style="left: 82%;"></a>
    
        <a href="../can_you_jpeg/README.html" title="Can You JPEG?" class="chapter done " data-progress="5.2" style="left: 84%;"></a>
    
        <a href="../sleepless_soccer_balls/README.html" title="Sleepless Soccer Balls" class="chapter done " data-progress="5.3" style="left: 86%;"></a>
    
        <a href="../2/README.html" title="λ2" class="chapter done " data-progress="5.4" style="left: 88%;"></a>
    
        <a href="../fractran_5_fully_submerged/README.html" title="FRACTRAN 5: Fully Submerged" class="chapter done " data-progress="5.5" style="left: 90%;"></a>
    
        <a href="../600_point_problems/README.html" title="600 Point Problems" class="chapter done new-chapter" data-progress="6" style="left: 92%;"></a>
    
        <a href="../project_einstein/README.html" title="Project Einstein" class="chapter done " data-progress="6.1" style="left: 94%;"></a>
    
        <a href="../fractran_6_water-breathing/README.html" title="FRACTRAN 6: Water-Breathing" class="chapter done " data-progress="6.2" style="left: 96%;"></a>
    
        <a href="../3/README.html" title="λ3" class="chapter  " data-progress="6.3" style="left: 98%;"></a>
    
        <a href="../chapter/README.html" title="My name is" class="chapter  " data-progress="6.4" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_34">
                    
                        <h1 id="fractran-6-water-breathing">FRACTRAN 6: Water-Breathing</h1>
<p>Type: FRACTRAN/Algo</p>
<p>By Aaron Berger</p>
<h2 id="problem">Problem</h2>
<p>After reading about <a href="http://en.wikipedia.org/w/index.php?title=Up_arrow_notation" target="_blank">Knuth&#39;s Up-Arrow Notation</a>, Keith has decided he wants to implement it in FRACTRAN.
He wrote a program that you can find <a href="http://compete.hsctf.com/ciJsbu4VFk/UpArrowProgram.txt" target="_blank">here</a> as a list of space-separated integers, <a href="http://compete.hsctf.com/ciJsbu4VFk/UpArrow2.txt" target="_blank">here</a> if you like the standard format better, or in the <strong>Appendix</strong> in standard Java array format, that will take input \(2^a\times3^n\times5^b\) and output \(5^{a (\uparrow^{n-1}) b}\).</p>
<p>For example, a single up-arrow represents exponentiation, so to calculate \(6\uparrow4= 6^4\) he would input \(2^6\times3^2\times5^4= 360000\).
A double up-arrow represents tetration and to calculate \(2\uparrow\uparrow3=2^{2^2}\) he would input \(2^2\times3^3\times5^3=13500\).  Both of these test cases worked splendidly.</p>
<p>Unfortunately, when he tried to calculate \(5\uparrow\uparrow3=5^{5^5}\) (by inputting \(2^5\times3^3\times5^3=108000\)), it didn&#39;t evaluate immediately.
You find him sitting in front of his computer waiting for it to finish.
You need to convince him that this is a stupid idea.
If one step is when you successfully multiply the current value n by a fraction f, find the total number of steps the program will take before it successfully calculates \(5\uparrow\uparrow3\).
(The two test cases, for example, should take 10084 steps and 914 steps, respectively.)</p>
<p>Output: If x is the total number of steps, input the integer formed by taking every 115th digit of x, starting from the leftmost digit.</p>
<h2 id="solution">Solution</h2>
<p>First of all, for this problem, our standard FRACTRAN interpreter won&#39;t do (at least, not in Java).  The numbers involved will quickly go over the Integer limit, the Long limit, and even the BigInteger limit.  Instead of working with numbers directly for this one, we&#39;ll instead want to work with numbers as an array of prime exponents.  We don&#39;t actually need to know, for example, what 5^1000 is--we only care that the exponent of 5 is 1000.  You can see the code I used in the <strong>Appendix</strong> at the bottom of this write-up under <strong>First Implementation of eval</strong>. (It makes use of three other methods: a prime factorization algorithm, a conversion from an arrayList of prime factors into an array, and a method to print the current value of N, all three of which appear directly below it in the <strong>Appendix</strong>).</p>
<p>This code works fine when testing the two testcases given in the problem.  However, it won&#39;t work for the actual case the problem asks you to solve.  Not only will it never finish in your lifetime (if you want to estimate how long it will take, go ahead; I&#39;m too lazy), even if it could finish it would exceed the Integer Cap on the powers of the exponents.  That&#39;s right--not only is the output itself too big to calculate, the exponents themselves go beyond the integer cap in Java.  Fortunately, BigInteger will be able to handle it.  We&#39;ll convert all the storage of exponents, as well as the storage for number of steps, into BigIntegers, and continue with the optimization.</p>
<p>The next thing to worry about is how to make this program actually able to execute in a reasonable amount of time. Now, you might decide to print out the fractions, look at the execution, and puzzle over it with some pencil and paper for a few hours, or even days (I know there were some people who did this). However, if you&#39;re like me, you can&#39;t be bothered to figure out exactly what the code is doing or why it works.  Instead, my solution was to see where the program got stuck looping through the same few fractions for hundreds or thousands of times.  For each of these loops that I found, I would figure out what it was doing and how many steps it took.  Then, I would hardcode into the interpreter that whenever it was about to start one of the loops, instead it would skip right to the end result and add the appropriate number of steps.  You can see the code I used for this under <strong>Second Implementation of eval</strong> in the <strong>Appendix</strong> (as well as the updated version of the &quot;print&quot; method below it).</p>
<p>Here are the major loops I found:</p>
<ul>
<li><strong>Fractions 6-11:</strong> Multiplication: 7s += 2s * 5s. 5s are reduced to 0.<ul>
<li>Steps taken: (4 * Number of 2s * Number of 5s) + (2 * Number of 5s)</li>
</ul>
</li>
<li><strong>Fractions 13-14:</strong> Move the 7s to the 5s.<ul>
<li>Steps taken: (2 * Number of 7s)</li>
</ul>
</li>
<li><strong>Fractions 22-28:</strong> Division with remainder: 19s = 17s / 7s and 23s = Remainder.  17s are reduced to 0, and 7s are reduced by the remainder.<ul>
<li>Steps taken: (4 * Number of 7s + 2)*(17s/7s) + (2 * Remainder)</li>
</ul>
</li>
<li><strong>Fractions 38-39:</strong> Move the 19s to the 17s.<ul>
<li>Steps taken: (2 * Number of 19s)</li>
</ul>
</li>
<li><strong>Fractions 44-50:</strong> Multiplication: 19s += 7s * 17s. 17s are reduced to 0.<ul>
<li>Steps taken: (4 * Number of 7s * Number of 17s) + (3 * Number of 17s)</li>
</ul>
</li>
<li><strong>Fractions 55-56:</strong> Move the 19s to the 17s.<ul>
<li>Steps taken: (2 * Number of 19s)</li>
</ul>
</li>
</ul>
<p>After implementing all of these time-savers, the program (which you can see in the <strong>Appendix</strong> under <strong>Final Implementation of eval</strong>) is finally able to execute fast enough to calculate the deisred number as well as the number of steps taken, which is over 2000 digits long.
The total number of steps can be found at the bottom of the <strong>Appendix</strong>.
The flag, which is every 115th digit, is <strong>15056605647060484408</strong>.</p>
<p>Author&#39;s note: due to some flaw in how I calculated it, the optimization for the 6-11 loop had to be implemented slightly differently in the code than the other optimizations.  I&#39;ll be sure to figure out what&#39;s causing it, but rest assured that it doesn&#39;t affect the calculation or answer at all, only the execution of the program.</p>
<h2 id="appendix">Appendix</h2>
<h3 id="list-of-fractions-in-java-array-format-">List of Fractions in Java array format:</h3>
<pre><code>{{263,22725},{2055,263},{223,909},{2061,1115},{227,303},{687,1135},{17941,458},{229,233},{239,229},{482,2629},{239,241},{229,1195},{251,239},{1285,1757},{251,257},{31,251},{2233,5239},{403,29},{22099,403},{481,451},{41,37},{47,41},{989,5593},{47,43},{67,329},{1121,47},{371,1357},{59,53},{47,59},{61,469},{67,61},{73,67},{71,219},{73,71},{83,73},{237,1909},{83,79},{97,83},{1513,1843},{97,89},{101,97},{917,23153},{1781,131},{6811,1781},{31141,1057},{151,149},{163,151},{1099,1793},{163,157},{139,163},{151,2363},{173,139},{2171,8477},{1211,167},{181,1211},{3043,3439},{181,179},{193,181},{685117,579},{193,191},{199,193},{591,41989},{199,197},{303,199},{9919,321},{107,109},{113,107},{381,791},{113,127},{101,1469},{321,103},{103,3},{1,2},{1,13},{1,101}}
</code></pre><h3 id="first-implemntation-of-eval-">First Implemntation of eval:</h3>
<pre><code>public int[] vectorEval(int i, int[][] fractions) {
        ArrayList&lt;Integer&gt; input = primeFactors(i);
        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; nums = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dens = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();

        for (int[] frac : fractions) {
            nums.add(primeFactors(frac[0]));
            dens.add(primeFactors(frac[1]));
        }

        int max = 0;
        for (ArrayList&lt;Integer&gt; in : nums)
            for (int j : in)
                max = Math.max(max, j);
        for (ArrayList&lt;Integer&gt; in : dens)
            for (int j : in)
                max = Math.max(max, j);

        int[][] numsA = toArray(max, nums, dens)[0];
        int[][] densA = toArray(max, nums, dens)[1];

        int[] inp = new int[max + 1];
        for (int n : input)
            inp[n]++;

        int steps=0;
        int counter = 0;

        while (counter &lt; nums.size()) {
            int[] num = numsA[counter];
            int[] den = densA[counter];
            boolean good = true;
            for (int n = 0; n &lt; den.length; n++)
                if (den[n] &gt; 0) {
                    if (inp[n] &lt; den[n]) {
                        good = false;
                        break;
                    }
                }

            if (good) {
                steps++;
                print(inp);
                for (int n = 0; n &lt; inp.length; n++) {
                    inp[n] -= den[n];
                    inp[n] += num[n];
                }
                counter = 0;
                print(inp);

            } else
                counter++;
        }
        System.out.println(&quot;STEPS: &quot;+steps);
        return inp;
    }
</code></pre><h3 id="prime-factorization-algorithm-">Prime Factorization Algorithm:</h3>
<pre><code>public static ArrayList&lt;Integer&gt; primeFactors(int number) {
    int n = number;
    ArrayList&lt;Integer&gt; factors = new ArrayList&lt;Integer&gt;();
    for (int i = 2; i &lt;= n; i++) {
        while (n % i == 0) {
            factors.add(i);
            n /= i;
        }
    }
    return factors;
}
</code></pre><h3 id="convert-the-arraylists-of-fractions-into-a-single-array-for-ease-of-access-">Convert the ArrayLists of fractions    into a single array for ease of access:</h3>
<pre><code>public static int[][][] toArray(int max,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; nums,ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dens) {

    int[][][] array = new int[2][nums.size()][max + 1];
    for (int i = 0; i &lt; nums.size(); i++) {
        for (int j : nums.get(i))
            array[0][i][j]++;
    }
    for (int i = 0; i &lt; dens.size(); i++) {
        for (int j : dens.get(i))
            array[1][i][j]++;
    }
    return array;
}
</code></pre><h3 id="print-the-current-array-of-exponents-integer-">Print the current array of exponents (Integer)</h3>
<pre><code>public static void print(int[] i) {
        for (int n = 0; n &lt; i.length; n++) {
            if (i[n] &gt; 0) {
                System.out.print(n + &quot;^&quot; + i[n] + &quot;  &quot;);
            }
        }
        System.out.println();
    }
</code></pre><h3 id="second-implementation-of-eval">Second Implementation of eval</h3>
<pre><code>public BigInteger[] vectorEval(int i, int[][] fractions) {
    ArrayList&lt;Integer&gt; input = primeFactors(i);
    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; nums = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dens = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
    BigInteger steps = BigInteger.valueOf(0L);

    for (int[] frac : fractions) {
        nums.add(primeFactors(frac[0]));
        dens.add(primeFactors(frac[1]));
    }

    int max = 0;
    for (ArrayList&lt;Integer&gt; in : nums)
        for (int j : in)
            max = Math.max(max, j);
    for (ArrayList&lt;Integer&gt; in : dens)
        for (int j : in)
            max = Math.max(max, j);

    int[][] numsA = toArray(max, nums, dens)[0];
    int[][] densA = toArray(max, nums, dens)[1];
    BigInteger[] inp=new BigInteger[max+1];
    for (int j=0;j&lt;inp.length;j++)
        inp[j]=new BigInteger(&quot;0&quot;);
    for (int n : input)
        inp[n]=inp[n].add(BigInteger.ONE);


    int counter = 0;

    while (counter &lt; nums.size()) {
        int[] num = numsA[counter];
        int[] den = densA[counter];
        boolean good = true;
        for (int n = 0; n &lt; den.length; n++)
            if (den[n] &gt; 0) {
                if (inp[n].compareTo(BigInteger.valueOf((long)den[n]))&lt;0) {
                    good = false;
                    break;
                }
            }

        if (good) {
            System.out.print(counter+&quot;: &quot;);
            print(inp);
                steps=steps.add(BigInteger.ONE);

                for (int n = 0; n &lt; inp.length; n++) {

                    inp[n]=inp[n].subtract(BigInteger.valueOf((long)den[n]));
                    inp[n]=inp[n].add(BigInteger.valueOf((long)num[n]));
                }
                counter = 0;


        } else
            counter++;

    }
    print (inp);
    System.out.println(steps.toString()+&quot; steps&quot;);
    return inp;

}
</code></pre><h3 id="print-the-current-array-of-exponents-biginteger-">Print the current array of exponents (BigInteger)</h3>
<pre><code>public static void print(BigInteger[] i) {
    for (int n = 0; n &lt; i.length; n++) {
        if (i[n].compareTo(BigInteger.ZERO)&gt;0) {
            System.out.print(n + &quot;^&quot; + i[n] + &quot;  &quot;);
        }
    }
    System.out.println();
}
</code></pre><h3 id="final-implementation-of-eval-">Final implementation of eval:</h3>
<pre><code>public BigInteger[] vectorEval(int i, int[][] fractions) {
    ArrayList&lt;Integer&gt; input = primeFactors(i);
    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; nums = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; dens = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
    BigInteger steps = BigInteger.valueOf(0L);

    for (int[] frac : fractions) {
        nums.add(primeFactors(frac[0]));
        dens.add(primeFactors(frac[1]));
    }

    int max = 0;
    for (ArrayList&lt;Integer&gt; in : nums)
        for (int j : in)
            max = Math.max(max, j);
    for (ArrayList&lt;Integer&gt; in : dens)
        for (int j : in)
            max = Math.max(max, j);

    int[][] numsA = toArray(max, nums, dens)[0];
    int[][] densA = toArray(max, nums, dens)[1];

    BigInteger[] inp=new BigInteger[max+1];
    for (int j=0;j&lt;inp.length;j++)
        inp[j]=new BigInteger(&quot;0&quot;);
    for (int n : input)
        inp[n]=inp[n].add(BigInteger.ONE);


    int counter = 0;

    while (counter &lt; nums.size()) {
        int[] num = numsA[counter];
        int[] den = densA[counter];
        boolean good = true;
        for (int n = 0; n &lt; den.length; n++)
            if (den[n] &gt; 0) {
                if (inp[n].compareTo(BigInteger.valueOf((long)den[n]))&lt;0) {
                    good = false;
                    break;
                }
            }

        if (good) {
            if (counter==6){
                steps=steps.add(new BigInteger(&quot;4&quot;).multiply(inp[2]).multiply(inp[5]).add(new BigInteger(&quot;2&quot;).multiply(inp[5])));
                inp[7]=inp[7].add(inp[2].multiply(inp[5]));
                inp[5]=new BigInteger(&quot;0&quot;);
                counter=0;
            }

            if (counter==13)
            {
                steps=steps.add(inp[7].add(inp[7]));
                inp[5]=inp[7];
                inp[7]=new BigInteger(&quot;0&quot;);
                counter=0;
            } else
            if (counter==38)
            {
                steps=steps.add(inp[19].add(inp[19]));
                inp[17]=inp[19];
                inp[19]=new BigInteger(&quot;0&quot;);
                counter=0;
            } else
            if (counter==22) {
                steps=steps.add(   (new BigInteger(&quot;4&quot;).multiply(inp[7]).add(new BigInteger(&quot;2&quot;))).multiply(inp[17].divide(inp[7])).add(new BigInteger(&quot;2&quot;).multiply(inp[17].mod(inp[7]))));
                inp[19]=inp[17].divide(inp[7]);
                inp[23]=inp[17].mod(inp[7]);
                inp[7]=inp[7].subtract(inp[23]);
                inp[17]=new BigInteger(&quot;0&quot;);
                counter=0;
            } else
            if (counter==50)
            {
                steps=steps.add(new BigInteger(&quot;4&quot;).multiply(inp[7]).multiply(inp[17]).add(new BigInteger(&quot;3&quot;).multiply(inp[17])));
                inp[19]=inp[7].multiply(inp[17]);
                inp[17]=new BigInteger(&quot;0&quot;);
                counter=0;

            } else
            if (counter == 55) {
                inp[17] = inp[19];
                inp[19] = new BigInteger(&quot;0&quot;);
                steps=steps .add(inp[17].add(inp[17]));
                counter = 0;
            } else
            {
                steps=steps.add(BigInteger.ONE);

                for (int n = 0; n &lt; inp.length; n++) {

                    inp[n]=inp[n].subtract(BigInteger.valueOf((long)den[n]));
                    inp[n]=inp[n].add(BigInteger.valueOf((long)num[n]));
                }
                counter = 0;

            }

        } else
            counter++;

    }
    System.out.println(steps.toString()+&quot; steps&quot;);
    return inp;

}
</code></pre><h3 id="total-number-of-steps-">Total Number of Steps:</h3>
<pre><code>15288100783563820162851236477631716793584648391920754697116102313972164241940926424096475092157918802124691521246355697882873702309390455778307281175327892816703695174057565614714253282704380889807804269008808011861208987305182146019291944755577415722262050281573900115162860339832745753653135064094297352980419368560405672517395062966811599602052689555692345468091038793069534239425019470723452393894844214268770992816842652368250829802605989095273278229522626131673463870521842295492582989531381185050333950097090605842573162263835894900609962897744141385799524541142554880629765710696578842443570849231571209482787950341756116756044065861993772846791303287561519679589489596345181335504104300520605789052098705408682437274839637784605913033378416820480940059955845979915797300907985387990368711682648445460913301724266454878963644287002778717699756175775279228604155314133907528319937504597846942855600020948072014103616199629598392232517591799001073380007028433262044055518301658876015655861713395266131136411034278505927720675360143544435621472205436744421902484465783126297605561471918141499025369509303036039900819614971824298218995031169092697850622311996127265474380896353968757049920339500133625220233761455691676784647613212591763482811644873727850717807087576276598181412052642977603331127949611283459447391300979107472582466891502171272727669200970726624708089381951068990695366182122360791646410339858308785618254565295819635180825388843335269792855963961127456355581410185160422430304978518021076727454913488500382154815549675588117505230894072726677476315467215963765925340389096324982146301279490294557491947470266749370597237544868985892477192887934111200070714004542640593464950613793364586882224558298747889464039638543660659168871396209735586045061053557998636794335800159969953873434795450118135901758295094608904948614862395351805565526025563989252563236386827053759484151795771044017069590439151215069793165787674780629388076000774408855961551448727651380032341913020638742776807301302725095295583254039474620309304012466447708436585305148392639406620248687442455177238711421901983314258041758062256033384982192683948997282604336563482813513914491844339459953388
</code></pre>
                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../project_einstein/README.html" class="navigation navigation-prev "><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../3/README.html" class="navigation navigation-next "><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
